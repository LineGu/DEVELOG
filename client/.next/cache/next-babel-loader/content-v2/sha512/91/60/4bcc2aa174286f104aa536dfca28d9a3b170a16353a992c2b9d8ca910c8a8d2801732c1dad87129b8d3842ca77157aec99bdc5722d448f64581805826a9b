{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/hyungu/Desktop/front-dev/projects/develog/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/hyungu/Desktop/front-dev/projects/develog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/hyungu/Desktop/front-dev/projects/develog/client/src/components/molecules/TableModal/TableModal.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport Theme from '@theme/index';\nimport addTable from '@utils/addTable';\nimport Block from './Block';\nvar StyledModal = styled.div.withConfig({\n  displayName: \"TableModal__StyledModal\",\n  componentId: \"sc-10g38zi-0\"\n})([\"display:\", \";position:absolute;flex-direction:column;margin:0;padding:5px 15px 10px 15px;border-radius:0.2em;pointer-events:visibleFill;background-color:\", \";& > span{margin:5px 0px;color:\", \";}.block_row_box{display:flex;margin:0;padding:0;}\"], function (_ref) {\n  var isHidden = _ref.isHidden;\n  return isHidden ? 'none' : 'flex';\n}, function () {\n  return Theme.MODAL_EDIT;\n}, function () {\n  return Theme.HEADER_BACK;\n});\n_c = StyledModal;\n\nfunction TableModal(_ref2) {\n  _s();\n\n  var className = _ref2.className,\n      tableProps = _ref2.tableProps,\n      isHidden = _ref2.isHidden,\n      setIsHidden = _ref2.setIsHidden;\n  var initValueCheckedPoint = [-1, -1];\n  var rowBlockLength = 10;\n  var columnBlockLength = 8;\n\n  var _useState = useState(initValueCheckedPoint),\n      checkedPoint = _useState[0],\n      setCheckedPoint = _useState[1];\n\n  var _checkedPoint = _slicedToArray(checkedPoint, 2),\n      xPoint = _checkedPoint[0],\n      yPoint = _checkedPoint[1];\n\n  var rowBlockCount = new Array(rowBlockLength).fill(0);\n  var columnBlockCount = new Array(columnBlockLength).fill(0);\n  var resetCheckedPoint = useCallback(function () {\n    return setCheckedPoint(initValueCheckedPoint);\n  }, []);\n  var updateCheckedPoint = useCallback(function (event) {\n    var _event$currentTarget$ = event.currentTarget.id.split(','),\n        _event$currentTarget$2 = _slicedToArray(_event$currentTarget$, 2),\n        xPointStr = _event$currentTarget$2[0],\n        yPointStr = _event$currentTarget$2[1];\n\n    var newCheckedPoint = [parseInt(xPointStr, 10), parseInt(yPointStr, 10)];\n    setCheckedPoint(newCheckedPoint);\n    event.stopPropagation();\n  }, []);\n  var hideTableModal = useCallback(function () {\n    setIsHidden(true);\n    resetCheckedPoint();\n  }, []);\n  var printCurrentCheckedPoint = useCallback(function () {\n    var isChecked = checkedPoint[0] !== initValueCheckedPoint[0];\n    var rowCount = xPoint + 1,\n        columnCount = yPoint + 1;\n    return isChecked ? \"\".concat(rowCount, \" x \").concat(columnCount, \" \\uD45C\") : '표 삽입';\n  }, [checkedPoint]);\n  var addTableByClick = useCallback(function () {\n    var rowCount = xPoint + 1,\n        columnCount = yPoint + 1;\n\n    var newTableProps = _objectSpread({\n      tableCount: [rowCount, columnCount]\n    }, tableProps);\n\n    addTable(newTableProps);\n    resetCheckedPoint();\n  }, [checkedPoint]);\n  var setBoxColor = useCallback(function (columnNum, rowNum) {\n    var isCheckedBlock = checkedPoint[0] >= columnNum && checkedPoint[1] >= rowNum;\n    return isCheckedBlock ? Theme.HEADER_BACK : Theme.MODAL_EDIT;\n  }, [checkedPoint]);\n  useEffect(function () {\n    document.addEventListener('click', hideTableModal);\n    document.addEventListener('mouseover', resetCheckedPoint);\n  }, []);\n  var blockPorps = {\n    checkedPoint: checkedPoint,\n    tableProps: tableProps,\n    setCheckedPoint: setCheckedPoint,\n    resetCheckedPoint: resetCheckedPoint\n  };\n  return /*#__PURE__*/_jsxDEV(StyledModal, {\n    isHidden: isHidden,\n    className: className,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: printCurrentCheckedPoint()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Block, {\n      blockPorps: blockPorps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TableModal, \"S3FazsO4ykJoO3z23wrSfHnW01E=\");\n\n_c2 = TableModal;\nexport default TableModal;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledModal\");\n$RefreshReg$(_c2, \"TableModal\");","map":{"version":3,"sources":["/Users/hyungu/Desktop/front-dev/projects/develog/client/src/components/molecules/TableModal/TableModal.tsx"],"names":["React","useState","useEffect","useCallback","styled","Theme","addTable","Block","StyledModal","div","isHidden","MODAL_EDIT","HEADER_BACK","TableModal","className","tableProps","setIsHidden","initValueCheckedPoint","rowBlockLength","columnBlockLength","checkedPoint","setCheckedPoint","xPoint","yPoint","rowBlockCount","Array","fill","columnBlockCount","resetCheckedPoint","updateCheckedPoint","event","currentTarget","id","split","xPointStr","yPointStr","newCheckedPoint","parseInt","stopPropagation","hideTableModal","printCurrentCheckedPoint","isChecked","rowCount","columnCount","addTableByClick","newTableProps","tableCount","setBoxColor","columnNum","rowNum","isCheckedBlock","document","addEventListener","blockPorps"],"mappings":";;;;;;;;;;;AACA,OAAOA,KAAP,IAA8BC,QAA9B,EAAwCC,SAAxC,EAAmDC,WAAnD,QAAsE,OAAtE;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AAGA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAQA,IAAMC,WAAW,GAAGJ,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,2PACJ;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SAAmBA,QAAQ,GAAG,MAAH,GAAY,MAAvC;AAAA,CADI,EAQK;AAAA,SAAML,KAAK,CAACM,UAAZ;AAAA,CARL,EAYJ;AAAA,SAAMN,KAAK,CAACO,WAAZ;AAAA,CAZI,CAAjB;KAAMJ,W;;AAsBN,SAASK,UAAT,QAAsG;AAAA;;AAAA,MAAhFC,SAAgF,SAAhFA,SAAgF;AAAA,MAArEC,UAAqE,SAArEA,UAAqE;AAAA,MAAzDL,QAAyD,SAAzDA,QAAyD;AAAA,MAA/CM,WAA+C,SAA/CA,WAA+C;AACpG,MAAMC,qBAAqB,GAAG,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAA9B;AACA,MAAMC,cAAc,GAAG,EAAvB;AACA,MAAMC,iBAAiB,GAAG,CAA1B;;AAHoG,kBAI5DlB,QAAQ,CAAWgB,qBAAX,CAJoD;AAAA,MAI7FG,YAJ6F;AAAA,MAI/EC,eAJ+E;;AAAA,qCAK3ED,YAL2E;AAAA,MAK7FE,MAL6F;AAAA,MAKrFC,MALqF;;AAMpG,MAAMC,aAAa,GAAG,IAAIC,KAAJ,CAAUP,cAAV,EAA0BQ,IAA1B,CAA+B,CAA/B,CAAtB;AACA,MAAMC,gBAAgB,GAAG,IAAIF,KAAJ,CAAUN,iBAAV,EAA6BO,IAA7B,CAAkC,CAAlC,CAAzB;AAEA,MAAME,iBAAiB,GAAGzB,WAAW,CAAC;AAAA,WAAMkB,eAAe,CAACJ,qBAAD,CAArB;AAAA,GAAD,EAA+C,EAA/C,CAArC;AAEA,MAAMY,kBAAmC,GAAG1B,WAAW,CAAC,UAAC2B,KAAD,EAAW;AAAA,gCAClCA,KAAK,CAACC,aAAN,CAAoBC,EAApB,CAAuBC,KAAvB,CAA6B,GAA7B,CADkC;AAAA;AAAA,QAC1DC,SAD0D;AAAA,QAC/CC,SAD+C;;AAEjE,QAAMC,eAAe,GAAG,CAACC,QAAQ,CAACH,SAAD,EAAY,EAAZ,CAAT,EAA0BG,QAAQ,CAACF,SAAD,EAAY,EAAZ,CAAlC,CAAxB;AACAd,IAAAA,eAAe,CAACe,eAAD,CAAf;AACAN,IAAAA,KAAK,CAACQ,eAAN;AACD,GALsD,EAKpD,EALoD,CAAvD;AAOA,MAAMC,cAAc,GAAGpC,WAAW,CAAC,YAAM;AACvCa,IAAAA,WAAW,CAAC,IAAD,CAAX;AACAY,IAAAA,iBAAiB;AAClB,GAHiC,EAG/B,EAH+B,CAAlC;AAKA,MAAMY,wBAAwB,GAAGrC,WAAW,CAAC,YAAM;AACjD,QAAMsC,SAAS,GAAGrB,YAAY,CAAC,CAAD,CAAZ,KAAoBH,qBAAqB,CAAC,CAAD,CAA3D;AADiD,QAE1CyB,QAF0C,GAEhBpB,MAAM,GAAG,CAFO;AAAA,QAEhCqB,WAFgC,GAEJpB,MAAM,GAAG,CAFL;AAGjD,WAAOkB,SAAS,aAAMC,QAAN,gBAAoBC,WAApB,eAAsC,MAAtD;AACD,GAJ2C,EAIzC,CAACvB,YAAD,CAJyC,CAA5C;AAMA,MAAMwB,eAAe,GAAGzC,WAAW,CAAC,YAAM;AAAA,QACjCuC,QADiC,GACPpB,MAAM,GAAG,CADF;AAAA,QACvBqB,WADuB,GACKpB,MAAM,GAAG,CADd;;AAExC,QAAMsB,aAAa;AAAKC,MAAAA,UAAU,EAAE,CAACJ,QAAD,EAAWC,WAAX;AAAjB,OAA6C5B,UAA7C,CAAnB;;AACAT,IAAAA,QAAQ,CAACuC,aAAD,CAAR;AACAjB,IAAAA,iBAAiB;AAClB,GALkC,EAKhC,CAACR,YAAD,CALgC,CAAnC;AAOA,MAAM2B,WAAW,GAAG5C,WAAW,CAC7B,UAAC6C,SAAD,EAAYC,MAAZ,EAAuB;AACrB,QAAMC,cAAc,GAAG9B,YAAY,CAAC,CAAD,CAAZ,IAAmB4B,SAAnB,IAAgC5B,YAAY,CAAC,CAAD,CAAZ,IAAmB6B,MAA1E;AACA,WAAOC,cAAc,GAAG7C,KAAK,CAACO,WAAT,GAAuBP,KAAK,CAACM,UAAlD;AACD,GAJ4B,EAK7B,CAACS,YAAD,CAL6B,CAA/B;AAQAlB,EAAAA,SAAS,CAAC,YAAM;AACdiD,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCb,cAAnC;AACAY,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCxB,iBAAvC;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,MAAMyB,UAAU,GAAG;AAAEjC,IAAAA,YAAY,EAAZA,YAAF;AAAgBL,IAAAA,UAAU,EAAVA,UAAhB;AAA4BM,IAAAA,eAAe,EAAfA,eAA5B;AAA6CO,IAAAA,iBAAiB,EAAjBA;AAA7C,GAAnB;AAEA,sBACE,QAAC,WAAD;AAAa,IAAA,QAAQ,EAAElB,QAAvB;AAAiC,IAAA,SAAS,EAAEI,SAA5C;AAAA,4BACE;AAAA,gBAAO0B,wBAAwB;AAA/B;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,KAAD;AAAO,MAAA,UAAU,EAAEa;AAAnB;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;GAzDQxC,U;;MAAAA,U;AA2DT,eAAeA,UAAf","sourcesContent":["import { IComponentProps, ITableProps } from '@interfaces';\nimport React, { ReactElement, useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport Theme from '@theme/index';\nimport { IOnHoverDivFunc } from '@eventInterfaces';\nimport { setStateBool } from '@types';\nimport addTable from '@utils/addTable';\nimport Block from './Block';\n\ninterface ITableModalProps extends IComponentProps {\n  tableProps: ITableProps;\n  isHidden: boolean;\n  setIsHidden: setStateBool;\n}\n\nconst StyledModal = styled.div<{ isHidden: boolean }>`\n  display: ${({ isHidden }) => (isHidden ? 'none' : 'flex')};\n  position: absolute;\n  flex-direction: column;\n  margin: 0;\n  padding: 5px 15px 10px 15px;\n  border-radius: 0.2em;\n  pointer-events: visibleFill;\n  background-color: ${() => Theme.MODAL_EDIT};\n\n  & > span {\n    margin: 5px 0px;\n    color: ${() => Theme.HEADER_BACK};\n  }\n\n  .block_row_box {\n    display: flex;\n    margin: 0;\n    padding: 0;\n  }\n`;\n\nfunction TableModal({ className, tableProps, isHidden, setIsHidden }: ITableModalProps): ReactElement {\n  const initValueCheckedPoint = [-1, -1];\n  const rowBlockLength = 10;\n  const columnBlockLength = 8;\n  const [checkedPoint, setCheckedPoint] = useState<number[]>(initValueCheckedPoint);\n  const [xPoint, yPoint] = checkedPoint;\n  const rowBlockCount = new Array(rowBlockLength).fill(0);\n  const columnBlockCount = new Array(columnBlockLength).fill(0);\n\n  const resetCheckedPoint = useCallback(() => setCheckedPoint(initValueCheckedPoint), []);\n\n  const updateCheckedPoint: IOnHoverDivFunc = useCallback((event) => {\n    const [xPointStr, yPointStr] = event.currentTarget.id.split(',');\n    const newCheckedPoint = [parseInt(xPointStr, 10), parseInt(yPointStr, 10)];\n    setCheckedPoint(newCheckedPoint);\n    event.stopPropagation();\n  }, []);\n\n  const hideTableModal = useCallback(() => {\n    setIsHidden(true);\n    resetCheckedPoint();\n  }, []);\n\n  const printCurrentCheckedPoint = useCallback(() => {\n    const isChecked = checkedPoint[0] !== initValueCheckedPoint[0];\n    const [rowCount, columnCount] = [xPoint + 1, yPoint + 1];\n    return isChecked ? `${rowCount} x ${columnCount} 표` : '표 삽입';\n  }, [checkedPoint]);\n\n  const addTableByClick = useCallback(() => {\n    const [rowCount, columnCount] = [xPoint + 1, yPoint + 1];\n    const newTableProps = { tableCount: [rowCount, columnCount], ...tableProps };\n    addTable(newTableProps);\n    resetCheckedPoint();\n  }, [checkedPoint]);\n\n  const setBoxColor = useCallback(\n    (columnNum, rowNum) => {\n      const isCheckedBlock = checkedPoint[0] >= columnNum && checkedPoint[1] >= rowNum;\n      return isCheckedBlock ? Theme.HEADER_BACK : Theme.MODAL_EDIT;\n    },\n    [checkedPoint],\n  );\n\n  useEffect(() => {\n    document.addEventListener('click', hideTableModal);\n    document.addEventListener('mouseover', resetCheckedPoint);\n  }, []);\n\n  const blockPorps = { checkedPoint, tableProps, setCheckedPoint, resetCheckedPoint };\n\n  return (\n    <StyledModal isHidden={isHidden} className={className}>\n      <span>{printCurrentCheckedPoint()}</span>\n      <Block blockPorps={blockPorps} />\n    </StyledModal>\n  );\n}\n\nexport default TableModal;\n"]},"metadata":{},"sourceType":"module"}