{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/Users/hyungu/Desktop/front-dev/projects/develog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/hyungu/Desktop/front-dev/projects/develog/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"/Users/hyungu/Desktop/front-dev/projects/develog/client/src/components/post/TagArea/TagArea.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport Theme from '@constants/Theme';\nimport Modal from '@components/common/Modal/index';\nimport MESSAGE from '@constants/message';\nimport STATE from '@constants/state';\nimport KEYBOARD from '@constants/keyboard';\nimport clearInput from '@utils/common/clearInput';\nimport TagInput from './TagInput';\nvar StyledTagContainer = styled.div.withConfig({\n  displayName: \"TagArea__StyledTagContainer\",\n  componentId: \"sc-1vbbl11-0\"\n})([\"display:flex;position:relative;flex-wrap:wrap;align-items:space-beetween;margin:1.2rem 0 0.4rem 2.5vw;@media (max-width:\", \"){margin:0 0 1em 0;width:100%;}& > .show{animation-name:bounce;animation-duration:0.5s;}\"], function () {\n  return Theme.MOBILE;\n});\n_c = StyledTagContainer;\nvar StyledTagUnit = styled.div.withConfig({\n  displayName: \"TagArea__StyledTagUnit\",\n  componentId: \"sc-1vbbl11-1\"\n})([\"height:1.7rem;margin:0 3rem 0.7rem 0.5rem;font-size:1.2rem;font-weight:600;color:\", \";pointer-events:auto;&:hover{opacity:60%;cursor:pointer;}@media (max-width:\", \"){margin:0 0.4em 0.3rem 1rem;font-size:0.7em;}\"], function () {\n  return Theme.MODE_MARK;\n}, function () {\n  return Theme.MOBILE;\n});\n_c2 = StyledTagUnit;\nvar StyledTagModal = styled(Modal).withConfig({\n  displayName: \"TagArea__StyledTagModal\",\n  componentId: \"sc-1vbbl11-2\"\n})([\"width:400px;z-index:2;padding:15px 20px;line-height:1.5em;bottom:-4em;background-color:\", \";color:\", \";@media (max-width:\", \"){height:4.7em;width:60vw;padding:0.5em 0.8em;margin-left:1.7em;bottom:-5.3em;font-size:0.43em;}@keyframes bounce{0%{transform:translate(0%,-50%);opacity:0;}40%{transform:translate(0%,0%);}55%{transform:translate(0%,-5%);}100%{opacity:1;}}\"], function () {\n  return Theme.EMPHASIS;\n}, function () {\n  return Theme.HEADER_BACK;\n}, function () {\n  return Theme.MOBILE;\n});\n_c3 = StyledTagModal;\n\nfunction TagArea() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(''),\n      tagInput = _useState[0],\n      setTagInput = _useState[1];\n\n  var _useState2 = useState([]),\n      tags = _useState2[0],\n      setTags = _useState2[1];\n\n  var newTagKey = useRef(0);\n\n  var _useState3 = useState(STATE.HIDE),\n      modalState = _useState3[0],\n      toggleModalState = _useState3[1];\n\n  var addTag = function addTag(event) {\n    var isValidTag = event.currentTarget.value.length >= 2;\n    if (!isValidTag) return;\n    var keysToAdd = [KEYBOARD.SPACE, KEYBOARD.ENTER];\n    var isValidKeyToAdd = keysToAdd.includes(event.key);\n    if (!isValidKeyToAdd) return;\n    var newTag = tagInput.slice(1);\n    var updatedTags = [].concat(_toConsumableArray(tags), [[newTag, newTagKey.current]]);\n    newTagKey.current += 1;\n    setTags(updatedTags);\n    toggleModalState(STATE.HIDE);\n    clearInput(setTagInput);\n  };\n\n  var deleteTag = function deleteTag(tagKeyToDelete) {\n    var updatedTags = tags.filter(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          tagKey = _ref2[1];\n\n      return tagKey !== tagKeyToDelete;\n    });\n    setTags(updatedTags);\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledTagContainer, {\n    children: [tags.map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          tag = _ref4[0],\n          tagKey = _ref4[1];\n\n      return /*#__PURE__*/_jsxDEV(StyledTagUnit, {\n        onClick: function onClick() {\n          return deleteTag(tagKey);\n        },\n        children: tag\n      }, tagKey, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, _this);\n    }), /*#__PURE__*/_jsxDEV(TagInput, {\n      addTag: addTag,\n      setModalState: toggleModalState,\n      setTagInput: setTagInput,\n      tagInput: tagInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledTagModal, {\n      className: modalState,\n      visibleState: modalState,\n      children: MESSAGE.DESCRIPTION_TAG\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TagArea, \"oILyiMg/Bs/OJII7Plwb1MdDetI=\");\n\n_c4 = TagArea;\nexport default TagArea; // !!TagModal 구조 분리\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"StyledTagContainer\");\n$RefreshReg$(_c2, \"StyledTagUnit\");\n$RefreshReg$(_c3, \"StyledTagModal\");\n$RefreshReg$(_c4, \"TagArea\");","map":{"version":3,"sources":["/Users/hyungu/Desktop/front-dev/projects/develog/client/src/components/post/TagArea/TagArea.tsx"],"names":["React","useState","useRef","styled","Theme","Modal","MESSAGE","STATE","KEYBOARD","clearInput","TagInput","StyledTagContainer","div","MOBILE","StyledTagUnit","MODE_MARK","StyledTagModal","EMPHASIS","HEADER_BACK","TagArea","tagInput","setTagInput","tags","setTags","newTagKey","HIDE","modalState","toggleModalState","addTag","event","isValidTag","currentTarget","value","length","keysToAdd","SPACE","ENTER","isValidKeyToAdd","includes","key","newTag","slice","updatedTags","current","deleteTag","tagKeyToDelete","filter","tagKey","map","tag","DESCRIPTION_TAG"],"mappings":"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","sourcesContent":["import React, { ReactElement, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport Theme from '@constants/Theme';\nimport Modal from '@components/common/Modal/index';\nimport MESSAGE from '@constants/message';\nimport STATE from '@constants/state';\nimport KEYBOARD from '@constants/keyboard';\nimport { IOnKeyboardFunc } from '@types';\nimport clearInput from '@utils/common/clearInput';\nimport TagInput from './TagInput';\n\nconst StyledTagContainer = styled.div`\n  display: flex;\n  position: relative;\n  flex-wrap: wrap;\n  align-items: space-beetween;\n  margin: 1.2rem 0 0.4rem 2.5vw;\n  @media (max-width: ${() => Theme.MOBILE}) {\n    margin: 0 0 1em 0;\n    width: 100%;\n  }\n\n  & > .show {\n    animation-name: bounce;\n    animation-duration: 0.5s;\n  }\n`;\n\nconst StyledTagUnit = styled.div`\n  height: 1.7rem;\n  margin: 0 3rem 0.7rem 0.5rem;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: ${() => Theme.MODE_MARK};\n  pointer-events: auto;\n  &:hover {\n    opacity: 60%;\n    cursor: pointer;\n  }\n  @media (max-width: ${() => Theme.MOBILE}) {\n    margin: 0 0.4em 0.3rem 1rem;\n    font-size: 0.7em;\n  }\n`;\n\nconst StyledTagModal = styled(Modal)`\n  width: 400px;\n  z-index: 2;\n  padding: 15px 20px;\n  line-height: 1.5em;\n  bottom: -4em;\n  background-color: ${() => Theme.EMPHASIS};\n  color: ${() => Theme.HEADER_BACK};\n\n  @media (max-width: ${() => Theme.MOBILE}) {\n    height: 4.7em;\n    width: 60vw;\n    padding: 0.5em 0.8em;\n    margin-left: 1.7em;\n    bottom: -5.3em;\n    font-size: 0.43em;\n  }\n\n  @keyframes bounce {\n    0% {\n      transform: translate(0%, -50%);\n      opacity: 0;\n    }\n    40% {\n      transform: translate(0%, 0%);\n    }\n    55% {\n      transform: translate(0%, -5%);\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n`;\n\nfunction TagArea(): ReactElement {\n  const [tagInput, setTagInput] = useState<string>('');\n  const [tags, setTags] = useState<Array<[string, number]>>([]);\n  const newTagKey = useRef<number>(0);\n  const [modalState, toggleModalState] = useState<string>(STATE.HIDE);\n\n  const addTag: IOnKeyboardFunc = (event) => {\n    const isValidTag = event.currentTarget.value.length >= 2;\n    if (!isValidTag) return;\n\n    const keysToAdd = [KEYBOARD.SPACE, KEYBOARD.ENTER];\n    const isValidKeyToAdd = keysToAdd.includes(event.key);\n    if (!isValidKeyToAdd) return;\n\n    const newTag = tagInput.slice(1);\n    const updatedTags: Array<[string, number]> = [...tags, [newTag, newTagKey.current]];\n    newTagKey.current += 1;\n\n    setTags(updatedTags);\n    toggleModalState(STATE.HIDE);\n    clearInput(setTagInput);\n  };\n\n  const deleteTag = (tagKeyToDelete: number) => {\n    const updatedTags = tags.filter(([, tagKey]) => tagKey !== tagKeyToDelete);\n    setTags(updatedTags);\n  };\n\n  return (\n    <StyledTagContainer>\n      {tags.map(([tag, tagKey]) => (\n        <StyledTagUnit key={tagKey} onClick={() => deleteTag(tagKey)}>\n          {tag}\n        </StyledTagUnit>\n      ))}\n      <TagInput addTag={addTag} setModalState={toggleModalState} setTagInput={setTagInput} tagInput={tagInput} />\n      <StyledTagModal className={modalState} visibleState={modalState}>\n        {MESSAGE.DESCRIPTION_TAG}\n      </StyledTagModal>\n    </StyledTagContainer>\n  );\n}\n\nexport default TagArea;\n\n// !!TagModal 구조 분리\n"]},"metadata":{},"sourceType":"module"}