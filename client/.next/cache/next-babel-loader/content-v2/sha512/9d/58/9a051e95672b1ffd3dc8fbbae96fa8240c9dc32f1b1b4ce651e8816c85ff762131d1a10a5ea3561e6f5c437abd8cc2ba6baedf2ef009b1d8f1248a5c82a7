{"ast":null,"code":"var findFrontOfLine = function findFrontOfLine(string, cursorPosition) {\n  var findingIndex = cursorPosition[0];\n  var isFindFront = true;\n\n  while (isFindFront) {\n    if (string[findingIndex - 1] === '\\n') {\n      isFindFront = false;\n      break;\n    }\n\n    if (findingIndex === 0) {\n      break;\n    }\n\n    findingIndex -= 1;\n  }\n\n  return findingIndex;\n};\n\nvar insertTextFront = function insertTextFront(_ref) {\n  var input = _ref.input,\n      positionToInsert = _ref.positionToInsert,\n      insertText = _ref.insertText;\n  var markDownForHead = ['# ', '## ', '### '];\n  var markDownForQuote = '> ';\n  var textToCheckOverlap = input.slice(positionToInsert, 4);\n  var beforeText = input.slice(0, positionToInsert);\n  var afterText = input.slice(positionToInsert);\n\n  if (insertText.includes('#') && textToCheckOverlap.includes('# ')) {\n    var indexOfMarkDownEnd = textToCheckOverlap.indexOf('# ') + 1;\n    afterText = afterText.slice(indexOfMarkDownEnd);\n  }\n\n  var newInput = beforeText + insertText + afterText;\n  return newInput;\n};\n\nvar editInputText = function editInputText(_ref2) {\n  var event = _ref2.event,\n      input = _ref2.input,\n      setInput = _ref2.setInput,\n      cursorPosition = _ref2.cursorPosition;\n  var isSelected = cursorPosition[0] !== cursorPosition[1];\n  var iconClicked = event.currentTarget.className.baseVal;\n  var positionToInsert = findFrontOfLine(input, cursorPosition);\n  var insertText = '';\n\n  switch (iconClicked) {\n    case 'h1':\n      insertText = '# ';\n      break;\n\n    case 'h2':\n      insertText = '## ';\n      break;\n\n    case 'h3':\n      insertText = '### ';\n      break;\n\n    case 'bold':\n      insertText = '**텍스트**';\n      break;\n\n    case 'italic':\n      insertText = '_텍스트_';\n      break;\n\n    case 'link':\n      insertText = '[링크텍스트](링크)';\n      break;\n\n    case 'quote':\n      insertText = '> ';\n      break;\n\n    default:\n      break;\n  }\n\n  var newInput = insertTextFront({\n    input: input,\n    positionToInsert: positionToInsert,\n    insertText: insertText\n  });\n  setInput(newInput);\n};\n\nexport default editInputText;","map":{"version":3,"sources":["/Users/hyungu/Desktop/front-dev/projects/develog/client/src/utils/editInputText.ts"],"names":["findFrontOfLine","string","cursorPosition","findingIndex","isFindFront","insertTextFront","input","positionToInsert","insertText","markDownForHead","markDownForQuote","textToCheckOverlap","slice","beforeText","afterText","includes","indexOfMarkDownEnd","indexOf","newInput","editInputText","event","setInput","isSelected","iconClicked","currentTarget","className","baseVal"],"mappings":"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","sourcesContent":["import { Dispatch, SetStateAction } from 'react';\n\ninterface IEditTextProps {\n  event: React.MouseEvent<SVGElement, MouseEvent>;\n  input: string;\n  setInput: Dispatch<SetStateAction<string>>;\n  cursorPosition: number[];\n}\n\ninterface IInsertFrontProps {\n  input: string;\n  positionToInsert: number;\n  insertText: string;\n}\n\nconst findFrontOfLine = (string: string, cursorPosition: number[]): number => {\n  let findingIndex = cursorPosition[0];\n  let isFindFront = true;\n  while (isFindFront) {\n    if (string[findingIndex - 1] === '\\n') {\n      isFindFront = false;\n      break;\n    }\n    if (findingIndex === 0) {\n      break;\n    }\n    findingIndex -= 1;\n  }\n  return findingIndex;\n};\n\nconst insertTextFront = ({ input, positionToInsert, insertText }: IInsertFrontProps): string => {\n  const markDownForHead = ['# ', '## ', '### '];\n  const markDownForQuote = '> ';\n  const textToCheckOverlap = input.slice(positionToInsert, 4);\n  const beforeText = input.slice(0, positionToInsert);\n  let afterText = input.slice(positionToInsert);\n  if (insertText.includes('#') && textToCheckOverlap.includes('# ')) {\n    const indexOfMarkDownEnd = textToCheckOverlap.indexOf('# ') + 1;\n    afterText = afterText.slice(indexOfMarkDownEnd);\n  }\n  const newInput = beforeText + insertText + afterText;\n  return newInput;\n};\n\nconst editInputText = ({ event, input, setInput, cursorPosition }: IEditTextProps): void => {\n  const isSelected = cursorPosition[0] !== cursorPosition[1];\n  const iconClicked = event.currentTarget.className.baseVal;\n  const positionToInsert = findFrontOfLine(input, cursorPosition);\n  let insertText = '';\n  switch (iconClicked) {\n    case 'h1':\n      insertText = '# ';\n      break;\n\n    case 'h2':\n      insertText = '## ';\n      break;\n\n    case 'h3':\n      insertText = '### ';\n      break;\n\n    case 'bold':\n      insertText = '**텍스트**';\n      break;\n\n    case 'italic':\n      insertText = '_텍스트_';\n      break;\n\n    case 'link':\n      insertText = '[링크텍스트](링크)';\n      break;\n\n    case 'quote':\n      insertText = '> ';\n      break;\n\n    default:\n      break;\n  }\n  const newInput = insertTextFront({ input, positionToInsert, insertText });\n  setInput(newInput);\n};\n\nexport default editInputText;\n"]},"metadata":{},"sourceType":"module"}